/* EasyMDE Editor Styles - Matching Trix Design */

/* Main editor container */
.EasyMDEContainer {
	position: relative;
	background-color: var(--color-base-100);
	border-radius: 0.25rem;
	overflow: hidden;
}

/* Toolbar styles */
.EasyMDEContainer .editor-toolbar {
	border: 1px solid var(--color-base-300);
	border-bottom: none;
	border-radius: 0.25rem 0.25rem 0 0;
	background-color: var(--color-base-200);
	padding: 0.75rem 1rem;
	display: flex;
	flex-wrap: wrap;
	gap: 0.5rem;
}

.EasyMDEContainer .editor-toolbar::before,
.EasyMDEContainer .editor-toolbar::after {
	display: none;
}

/* Toolbar button groups */
.EasyMDEContainer .editor-toolbar .separator {
	display: inline-block;
	width: 1px;
	height: 1.5rem;
	background-color: var(--color-base-300);
	margin: 0 0.375rem;
	vertical-align: middle;
}

/* Toolbar buttons */
.EasyMDEContainer .editor-toolbar button {
	background-color: var(--color-base-100) !important;
	border: 1px solid var(--color-base-300) !important;
	border-radius: 0.25rem !important;
	padding: 0.375rem 0.75rem !important;
	font-size: 0.75rem !important;
	cursor: pointer !important;
	transition: all 0.2s !important;
	color: var(--color-base-content) !important;
	font-weight: 500 !important;
	margin: 0 !important;
	height: auto !important;
	line-height: 1.2 !important;
}

.EasyMDEContainer .editor-toolbar button:hover {
	background-color: var(--color-primary) !important;
	color: var(--color-primary-content) !important;
	border-color: var(--color-primary) !important;
}

.EasyMDEContainer .editor-toolbar button.active {
	background-color: var(--color-primary) !important;
	color: var(--color-primary-content) !important;
	border-color: var(--color-primary) !important;
}

.EasyMDEContainer .editor-toolbar button:disabled {
	opacity: 0.5 !important;
	cursor: not-allowed !important;
	background-color: var(--color-base-300) !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-toolbar button:focus {
	outline: 2px solid var(--color-primary) !important;
	outline-offset: 2px !important;
}

/* CodeMirror editor area - improved readability */
.EasyMDEContainer .CodeMirror {
	border: 1px solid var(--color-base-300) !important;
	border-top: none !important;
	border-radius: 0 0 0.25rem 0.25rem !important;
	padding: 1rem !important;
	/* min-height: 400px !important; */
	/* max-height: 600px !important; */
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
	font-size: 1rem !important;
	line-height: 1.6 !important;
	background-color: var(--color-base-100) !important;
	color: var(--color-base-content) !important;
	transition: border-color 0.2s !important;
	overflow-y: auto !important;
	position: relative !important;
}

.EasyMDEContainer .CodeMirror:focus-within {
	border-color: var(--color-primary) !important;
	outline: none !important;
}

.EasyMDEContainer .CodeMirror-focused {
	border-color: var(--color-primary) !important;
	outline: none !important;
}

.EasyMDEContainer .CodeMirror-focused .CodeMirror-cursor {
	visibility: visible !important;
	opacity: 1 !important;
}

/* CodeMirror text content */
.EasyMDEContainer .CodeMirror-line {
	color: var(--color-base-content) !important;
	font-size: 1rem !important;
	line-height: 1.6 !important;
	position: relative !important;
}

.EasyMDEContainer .CodeMirror pre.CodeMirror-line {
	color: var(--color-base-content) !important;
	font-size: 1rem !important;
	line-height: 1.6 !important;
	padding: 0 !important;
	position: relative !important;
}

.EasyMDEContainer .CodeMirror pre.CodeMirror-line-like {
	color: var(--color-base-content) !important;
	font-size: 1rem !important;
	line-height: 1.6 !important;
	position: relative !important;
}

/* CodeMirror cursor and selection */
.EasyMDEContainer .CodeMirror-cursor {
	border-left: 2px solid var(--color-base-content) !important;
	position: absolute !important;
	z-index: 10 !important;
	pointer-events: none !important;
	animation: blink 1.2s infinite !important;
}

@keyframes blink {

	0%,
	50% {
		opacity: 1;
	}

	51%,
	100% {
		opacity: 0;
	}
}

.EasyMDEContainer .CodeMirror-selected {
	background-color: var(--color-primary) !important;
	color: var(--color-primary-content) !important;
	opacity: 0.3 !important;
}

.EasyMDEContainer .CodeMirror-selectedtext {
	background-color: var(--color-primary) !important;
	color: var(--color-primary-content) !important;
}

/* Remove any unwanted content */
.EasyMDEContainer .CodeMirror-line::before,
.EasyMDEContainer .CodeMirror-line::after {
	content: none !important;
}

/* CodeMirror gutters */
.EasyMDEContainer .CodeMirror-gutters {
	background-color: var(--color-base-200) !important;
	border-right: 1px solid var(--color-base-300) !important;
}

.EasyMDEContainer .CodeMirror-linenumber {
	color: var(--color-base-content) !important;
	opacity: 0.6;
}

/* Markdown syntax highlighting improvements */
.EasyMDEContainer .cm-header-1 {
	font-size: 1.5em !important;
	font-weight: bold !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .cm-header-2 {
	font-size: 1.3em !important;
	font-weight: bold !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .cm-header-3 {
	font-size: 1.1em !important;
	font-weight: bold !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .cm-strong {
	font-weight: bold !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .cm-em {
	font-style: italic !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .cm-link {
	color: var(--color-primary) !important;
	text-decoration: underline !important;
}

.EasyMDEContainer .cm-url {
	color: var(--color-primary) !important;
}

.EasyMDEContainer .cm-quote {
	color: var(--color-base-content) !important;
	font-style: italic !important;
}

.EasyMDEContainer .cm-comment {
	color: var(--color-base-content) !important;
	background-color: var(--color-base-200) !important;
	padding: 0.125rem 0.25rem !important;
	border-radius: 0.125rem !important;
	font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
}

/* Markdown preview styles */
.EasyMDEContainer .editor-preview,
.EasyMDEContainer .editor-preview-side {
	background-color: var(--color-base-100) !important;
	color: var(--color-base-content) !important;
	border: 1px solid var(--color-base-300) !important;
	padding: 1rem !important;
	font-family: inherit !important;
	font-size: 1rem !important;
	line-height: 1.6 !important;
}

/* Markdown content styling in preview */
.EasyMDEContainer .editor-preview h1,
.EasyMDEContainer .editor-preview-side h1 {
	font-size: 1.5em !important;
	font-weight: bold !important;
	margin: 0.5em 0 !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview h2,
.EasyMDEContainer .editor-preview-side h2 {
	font-size: 1.3em !important;
	font-weight: bold !important;
	margin: 0.5em 0 !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview h3,
.EasyMDEContainer .editor-preview-side h3 {
	font-size: 1.1em !important;
	font-weight: bold !important;
	margin: 0.5em 0 !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview strong,
.EasyMDEContainer .editor-preview-side strong {
	font-weight: bold !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview em,
.EasyMDEContainer .editor-preview-side em {
	font-style: italic !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview a,
.EasyMDEContainer .editor-preview-side a {
	color: var(--color-primary) !important;
	text-decoration: underline !important;
}

.EasyMDEContainer .editor-preview ul,
.EasyMDEContainer .editor-preview ol,
.EasyMDEContainer .editor-preview-side ul,
.EasyMDEContainer .editor-preview-side ol {
	margin: 0.5em 0 !important;
	padding-left: 2em !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview li,
.EasyMDEContainer .editor-preview-side li {
	margin: 0.25em 0 !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview blockquote,
.EasyMDEContainer .editor-preview-side blockquote {
	margin: 0.5em 0 !important;
	padding: 0.75rem !important;
	border-left: 3px solid var(--color-base-300) !important;
	font-style: italic !important;
	color: var(--color-base-content) !important;
	background-color: var(--color-base-200) !important;
	border-radius: 0.25rem !important;
}

.EasyMDEContainer .editor-preview pre,
.EasyMDEContainer .editor-preview-side pre {
	background-color: var(--color-base-200) !important;
	border: 1px solid var(--color-base-300) !important;
	border-radius: 0.25rem !important;
	padding: 1em !important;
	margin: 0.5em 0 !important;
	font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
	white-space: pre-wrap !important;
	color: var(--color-base-content) !important;
}

.EasyMDEContainer .editor-preview code,
.EasyMDEContainer .editor-preview-side code {
	background-color: var(--color-base-200) !important;
	color: var(--color-base-content) !important;
	padding: 0.125rem 0.25rem !important;
	border-radius: 0.125rem !important;
	font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace !important;
	font-size: 0.9em !important;
}

/* Status bar */
.EasyMDEContainer .editor-statusbar {
	background-color: var(--color-base-200) !important;
	border: 1px solid var(--color-base-300) !important;
	border-top: none !important;
	border-radius: 0 0 0.25rem 0.25rem !important;
	padding: 0.5rem 1rem !important;
	color: var(--color-base-content) !important;
	opacity: 0.7 !important;
	font-size: 0.75rem !important;
}

/* Custom editor container integration */
.easymde-editor-container {
	position: relative;
	background-color: var(--color-base-100);
	border-radius: 0.25rem;
	overflow: visible;
	z-index: 1;
}

/* Fix CodeMirror scrolling */
.EasyMDEContainer .CodeMirror-scroll {
	overflow-y: auto !important;
	overflow-x: auto !important;
	height: auto !important;
	/* min-height: 400px !important; */
	/* max-height: 600px !important; */
}

.EasyMDEContainer .CodeMirror-sizer {
	position: relative !important;
	border-right: 30px solid transparent !important;
	min-height: 400px !important;
}

.easymde-editor-container .EasyMDEContainer .editor-toolbar {
	border-radius: 0.25rem 0.25rem 0 0;
}

.easymde-editor-container .EasyMDEContainer .CodeMirror {
	border-radius: 0 0 0.25rem 0.25rem;
	border-top: none;
}

/* Integration with existing form styles */
.form-section .easymde-editor-container {
	margin-top: 0.5rem;
}

/* Placeholder styling */
.EasyMDEContainer .CodeMirror-placeholder {
	color: var(--color-base-content) !important;
	opacity: 0.5 !important;
	font-style: italic !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
	.EasyMDEContainer .editor-toolbar {
		flex-direction: column;
		gap: 0.5rem;
		padding: 0.5rem 0.75rem;
	}

	.EasyMDEContainer .editor-toolbar .separator {
		display: none;
	}

	.EasyMDEContainer .CodeMirror {
		min-height: 300px !important;
		padding: 0.75rem !important;
		font-size: 0.9rem !important;
	}

	.EasyMDEContainer .editor-toolbar button {
		padding: 0.25rem 0.5rem !important;
		font-size: 0.7rem !important;
	}
}

/* Hide default EasyMDE icons and use text labels */
.EasyMDEContainer .editor-toolbar button::before {
	display: none !important;
}

/* Ensure proper z-index for dropdowns */
.EasyMDEContainer .editor-toolbar .dropdown {
	z-index: 1000;
}

/* Side-by-side mode adjustments */
.EasyMDEContainer.side-by-side .CodeMirror {
	border-right: 1px solid var(--color-base-300) !important;
	border-radius: 0 !important;
}

.EasyMDEContainer.side-by-side .editor-preview-side {
	border-radius: 0 0 0.25rem 0 !important;
}

/* Fullscreen mode */
.EasyMDEContainer.fullscreen {
	z-index: 9999 !important;
	background-color: var(--color-base-100) !important;
}

.EasyMDEContainer.fullscreen .CodeMirror {
	border-radius: 0 !important;
}

.EasyMDEContainer.fullscreen .editor-toolbar {
	border-radius: 0 !important;
}
